@tailwind base;
@tailwind components;
@tailwind utilities;

/* Prevent flash of unstyled content during theme initialization */
html:not([data-theme]) {
  visibility: hidden;
}

html[data-theme] {
  visibility: visible;
}

/* Additional fallback for theme classes */
html:not(.theme-light):not(.theme-dark):not(.theme-bright):not(.theme-dark-gradient):not(.theme-white-purple-gradient):not([data-theme]) {
  visibility: hidden;
}

html.theme-light,
html.theme-dark,
html.theme-bright,
html.theme-dark-gradient,
html.theme-white-purple-gradient {
  visibility: visible;
}

/* Theme Classes */
.theme-light {
  --bg-primary: #ffffff;
  --bg-secondary: #f8fafc;
  --bg-tertiary: #f1f5f9;
  --text-primary: #1e293b;
  --text-secondary: #64748b;
  --text-tertiary: #94a3b8;
  --border-primary: #e2e8f0;
  --border-secondary: #cbd5e1;
  --accent-primary: #8b5cf6;
  --accent-secondary: #a855f7;
  --accent-tertiary: #c084fc;
}

.theme-dark {
  --bg-primary: #0f172a;
  --bg-secondary: #1e293b;
  --bg-tertiary: #334155;
  --text-primary: #f8fafc;
  --text-secondary: #cbd5e1;
  --text-tertiary: #94a3b8;
  --border-primary: #334155;
  --border-secondary: #475569;
  --accent-primary: #a855f7;
  --accent-secondary: #c084fc;
  --accent-tertiary: #d8b4fe;
}

.theme-bright {
  --bg-primary: #ffffff;
  --bg-secondary: #fefefe;
  --bg-tertiary: #fafafa;
  --text-primary: #000000;
  --text-secondary: #333333;
  --text-tertiary: #666666;
  --border-primary: #e5e5e5;
  --border-secondary: #cccccc;
  --accent-primary: #ff6b6b;
  --accent-secondary: #ff8e8e;
  --accent-tertiary: #ffb3b3;
}

/* Dark Gradient Theme */
.theme-dark-gradient {
  --bg-primary: #0f172a;
  --bg-secondary: #1e293b;
  --bg-tertiary: #334155;
  --text-primary: #f8fafc;
  --text-secondary: #cbd5e1;
  --text-tertiary: #94a3b8;
  --border-primary: #334155;
  --border-secondary: #475569;
  --accent-primary: #a855f7;
  --accent-secondary: #c084fc;
  --accent-tertiary: #d8b4fe;
  background: linear-gradient(135deg, #0f172a 0%, #1e1b4b 50%, #312e81 100%);
}

/* White to Purple Gradient Theme */
.theme-white-purple-gradient {
  --bg-primary: #ffffff;
  --bg-secondary: #f8fafc;
  --bg-tertiary: #f1f5f9;
  --text-primary: #1e293b;
  --text-secondary: #64748b;
  --text-tertiary: #94a3b8;
  --border-primary: #e2e8f0;
  --border-secondary: #cbd5e1;
  --accent-primary: #8b5cf6;
  --accent-secondary: #a855f7;
  --accent-tertiary: #c084fc;
  background: linear-gradient(135deg, #ffffff 0%, #f3e8ff 50%, #8b5cf6 100%);
}

/* Animation Disabling */
.no-animations *,
.no-animations *::before,
.no-animations *::after {
  animation-duration: 0.01ms !important;
  animation-iteration-count: 1 !important;
  transition-duration: 0.01ms !important;
  scroll-behavior: auto !important;
}

.no-animations {
  --animate-duration: 0.01ms !important;
  --animate-delay: 0ms !important;
}

/* Refined Elegance Animations */
@keyframes elegantRipple {
  0% {
    box-shadow: 
      0 0 0 0 rgba(139, 92, 246, 0.25),
      0 0 20px 0 rgba(139, 92, 246, 0.15),
      inset 0 0 0 1px rgba(139, 92, 246, 0.1);
    transform: scale(1);
  }
  50% {
    box-shadow: 
      0 0 0 6px rgba(139, 92, 246, 0.1),
      0 0 25px 5px rgba(139, 92, 246, 0.08),
      inset 0 0 0 1px rgba(139, 92, 246, 0.15);
    transform: scale(1.02);
  }
  100% {
    box-shadow: 
      0 0 0 0 rgba(139, 92, 246, 0),
      0 0 30px 10px rgba(139, 92, 246, 0),
      inset 0 0 0 1px rgba(139, 92, 246, 0);
    transform: scale(1);
  }
}

@keyframes elegantRippleDark {
  0% {
    box-shadow: 
      0 0 0 0 rgba(168, 85, 247, 0.3),
      0 0 20px 0 rgba(168, 85, 247, 0.2),
      inset 0 0 0 1px rgba(168, 85, 247, 0.15);
    transform: scale(1);
  }
  50% {
    box-shadow: 
      0 0 0 6px rgba(168, 85, 247, 0.15),
      0 0 25px 5px rgba(168, 85, 247, 0.12),
      inset 0 0 0 1px rgba(168, 85, 247, 0.2);
    transform: scale(1.02);
  }
  100% {
    box-shadow: 
      0 0 0 0 rgba(168, 85, 247, 0),
      0 0 30px 10px rgba(168, 85, 247, 0),
      inset 0 0 0 1px rgba(168, 85, 247, 0);
    transform: scale(1);
  }
}

.glow-pulse {
  animation: elegantRipple 0.8s cubic-bezier(0.4, 0, 0.2, 1);
}

.dark .glow-pulse {
  animation: elegantRippleDark 0.8s cubic-bezier(0.4, 0, 0.2, 1);
}

.glow-pulse-trigger {
  position: relative;
  overflow: visible;
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

.glow-pulse-trigger::before {
  content: '';
  position: absolute;
  top: -3px;
  left: -3px;
  right: -3px;
  bottom: -3px;
  border-radius: 50%;
  background: transparent;
  border: 1px solid transparent;
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  pointer-events: none;
  opacity: 0;
}

.glow-pulse-trigger:hover::before {
  opacity: 1;
  background: linear-gradient(135deg, rgba(139, 92, 246, 0.08) 0%, rgba(139, 92, 246, 0.03) 50%, transparent 100%);
  border: 1px solid rgba(139, 92, 246, 0.2);
  box-shadow: 
    0 0 15px rgba(139, 92, 246, 0.1),
    inset 0 0 15px rgba(139, 92, 246, 0.05);
  transform: scale(1.05);
}

.dark .glow-pulse-trigger:hover::before {
  background: linear-gradient(135deg, rgba(168, 85, 247, 0.12) 0%, rgba(168, 85, 247, 0.05) 50%, transparent 100%);
  border: 1px solid rgba(168, 85, 247, 0.25);
  box-shadow: 
    0 0 20px rgba(168, 85, 247, 0.15),
    inset 0 0 20px rgba(168, 85, 247, 0.08);
}

/* Sophisticated focus states */
.glow-pulse-trigger:focus-visible {
  outline: none;
}

.glow-pulse-trigger:focus-visible::before {
  opacity: 1;
  background: linear-gradient(135deg, rgba(139, 92, 246, 0.12) 0%, rgba(139, 92, 246, 0.06) 100%);
  border: 2px solid rgba(139, 92, 246, 0.4);
  box-shadow: 
    0 0 20px rgba(139, 92, 246, 0.2),
    inset 0 0 10px rgba(139, 92, 246, 0.1);
  transform: scale(1.03);
}

.dark .glow-pulse-trigger:focus-visible::before {
  background: linear-gradient(135deg, rgba(168, 85, 247, 0.15) 0%, rgba(168, 85, 247, 0.08) 100%);
  border: 2px solid rgba(168, 85, 247, 0.5);
  box-shadow: 
    0 0 25px rgba(168, 85, 247, 0.25),
    inset 0 0 15px rgba(168, 85, 247, 0.12);
}

/* Accessibility Features */
/* Focus Indicators */
.focus-indicators *:focus {
  outline: 2px solid #8b5cf6 !important;
  outline-offset: 2px !important;
}

/* High Contrast Mode */
.high-contrast {
  --bg-primary: #000000 !important;
  --bg-secondary: #1a1a1a !important;
  --text-primary: #ffffff !important;
  --text-secondary: #e5e5e5 !important;
  --border-primary: #ffffff !important;
}

.high-contrast * {
  background-color: var(--bg-primary) !important;
  color: var(--text-primary) !important;
  border-color: var(--border-primary) !important;
}

/* Text Spacing */
.text-spacing-increased {
  line-height: 1.6 !important;
  letter-spacing: 0.1em !important;
  word-spacing: 0.2em !important;
}

.text-spacing-extra {
  line-height: 1.8 !important;
  letter-spacing: 0.15em !important;
  word-spacing: 0.3em !important;
}

/* Color Blind Support */
.colorblind-protanopia {
  filter: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg"><filter id="protanopia"><feColorMatrix type="matrix" values="0.567,0.433,0,0,0 0.558,0.442,0,0,0 0,0.242,0.758,0,0 0,0,0,1,0"/></filter></svg>#protanopia');
}

.colorblind-deuteranopia {
  filter: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg"><filter id="deuteranopia"><feColorMatrix type="matrix" values="0.625,0.375,0,0,0 0.7,0.3,0,0,0 0,0.3,0.7,0,0 0,0,0,1,0"/></filter></svg>#deuteranopia');
}

.colorblind-tritanopia {
  filter: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg"><filter id="tritanopia"><feColorMatrix type="matrix" values="0.95,0.05,0,0,0 0,0.433,0.567,0,0 0,0.475,0.525,0,0 0,0,0,1,0"/></filter></svg>#tritanopia');
}

/* Reduced Motion */
.reduced-motion *,
.reduced-motion *::before,
.reduced-motion *::after {
  animation-duration: 0.01ms !important;
  animation-iteration-count: 1 !important;
  transition-duration: 0.01ms !important;
  scroll-behavior: auto !important;
}

.reduced-motion {
  --animate-duration: 0.01ms !important;
  --animate-delay: 0ms !important;
}

/* Font Size Adjustments */
.font-size-small {
  font-size: 0.875rem !important;
}

.font-size-medium {
  font-size: 1rem !important;
}

.font-size-large {
  font-size: 1.125rem !important;
}

.font-size-extra-large {
  font-size: 1.25rem !important;
}

/* Screen Reader Support */
.sr-only {
  position: absolute !important;
  width: 1px !important;
  height: 1px !important;
  padding: 0 !important;
  margin: -1px !important;
  overflow: hidden !important;
  clip: rect(0, 0, 0, 0) !important;
  white-space: nowrap !important;
  border: 0 !important;
}

/* Keyboard Navigation Support */
.keyboard-nav *:focus {
  outline: 2px solid #8b5cf6 !important;
  outline-offset: 2px !important;
}

.keyboard-nav button:focus,
.keyboard-nav a:focus {
  box-shadow: 0 0 0 2px #8b5cf6 !important;
}

/* Dark Plasma Background for Playground */
.theme-dark .plasma-background {
  background: linear-gradient(45deg, #0f172a, #1e293b, #334155);
}

.theme-dark .plasma-background::before {
  background: radial-gradient(circle at 20% 80%, rgba(168, 85, 247, 0.4) 0%, transparent 50%),
              radial-gradient(circle at 80% 20%, rgba(192, 132, 252, 0.4) 0%, transparent 50%),
              radial-gradient(circle at 40% 40%, rgba(216, 180, 254, 0.3) 0%, transparent 50%);
}

/* Bright Theme Enhancements */
.theme-bright {
  --shadow-color: rgba(0, 0, 0, 0.1);
  --shadow-color-hover: rgba(0, 0, 0, 0.15);
}

.theme-bright .card,
.theme-bright .bg-white {
  background: #ffffff !important;
  box-shadow: 0 4px 6px -1px var(--shadow-color), 0 2px 4px -1px var(--shadow-color) !important;
}

.theme-bright .card:hover,
.theme-bright .bg-white:hover {
  box-shadow: 0 10px 15px -3px var(--shadow-color-hover), 0 4px 6px -2px var(--shadow-color-hover) !important;
}

.theme-bright .gradient-text {
  background: linear-gradient(45deg, #ff6b6b, #ff8e8e, #ffb3b3);
  background-size: 200% 200%;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  animation: gradientShift 3s ease infinite;
}

/* Bright theme button enhancements */
.theme-bright .bg-purple-600 {
  background-color: #ff6b6b !important;
}

.theme-bright .bg-purple-600:hover {
  background-color: #ff5252 !important;
}

.theme-bright .text-purple-600 {
  color: #ff6b6b !important;
}

/* Dark theme enhancements */
.theme-dark .bg-purple-600 {
  background-color: #a855f7 !important;
}

.theme-dark .bg-purple-600:hover {
  background-color: #9333ea !important;
}

.theme-dark .text-purple-600 {
  color: #c084fc !important;
}

/* Apply theme variables to existing components */
.theme-light,
.theme-dark,
.theme-bright {
  background-color: var(--bg-primary);
  color: var(--text-primary);
}

/* Header theme adjustments */
.theme-dark .bg-white {
  background-color: var(--bg-secondary) !important;
  border-color: var(--border-primary) !important;
}

.theme-dark .text-purple-900 {
  color: var(--text-primary) !important;
}

.theme-dark .text-purple-700 {
  color: var(--text-secondary) !important;
}

.theme-bright .bg-white {
  background-color: #ffffff !important;
  border-color: #e5e5e5 !important;
}

.theme-bright .text-purple-900 {
  color: #000000 !important;
}

.theme-bright .text-purple-700 {
  color: #333333 !important;
}

/* Modal theme adjustments */
.theme-dark .bg-white {
  background-color: var(--bg-secondary) !important;
}

.theme-dark .text-gray-900 {
  color: var(--text-primary) !important;
}

.theme-dark .text-gray-600 {
  color: var(--text-secondary) !important;
}

.theme-dark .text-gray-500 {
  color: var(--text-tertiary) !important;
}

.theme-dark .border-gray-200 {
  border-color: var(--border-primary) !important;
}

.theme-bright .bg-white {
  background-color: #ffffff !important;
}

.theme-bright .text-gray-900 {
  color: #000000 !important;
}

.theme-bright .text-gray-600 {
  color: #333333 !important;
}

.theme-bright .text-gray-500 {
  color: #666666 !important;
}

.theme-bright .border-gray-200 {
  border-color: #e5e5e5 !important;
}

/* --- Global Animated Background & Core Styles --- */
body {
  background-color: #dbeafe; /* Light blue background */
  color: #1e293b; /* Dark text color for light background */
  margin: 0;
  padding: 0;
}

body, #root {
  background-color: #dbeafe; /* Light blue background */
  margin: 0;
  padding: 0;
}



/* Base style for all glass panels */
.glass-panel {
  background-color: rgba(17, 24, 39, 0.5); /* bg-gray-900/50 */
  backdrop-filter: blur(12px);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 1rem; /* rounded-2xl */
}

/* Enhanced Card Visibility */
.feature-card {
  box-shadow: 0 15px 35px -10px rgba(0, 0, 0, 0.25), 0 8px 12px -4px rgba(0, 0, 0, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.feature-card:hover {
  box-shadow: 0 25px 50px -15px rgba(0, 0, 0, 0.4), 0 12px 16px -6px rgba(0, 0, 0, 0.25);
  transform: translateY(-6px);
}

.content-card {
  box-shadow: 0 35px 70px -20px rgba(0, 0, 0, 0.4);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.content-card:hover {
  box-shadow: 0 50px 100px -25px rgba(0, 0, 0, 0.5), 0 20px 25px -10px rgba(0, 0, 0, 0.3);
  transform: translateY(-8px);
}

/* Enhanced Background Contrast */
.bg-gradient-to-br {
  background: linear-gradient(to bottom right, var(--tw-gradient-stops));
}

/* Improved Card Borders - Removed purple borders to prevent animation interference */

/* Enhanced Hover Effects */
.enhanced-hover {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.enhanced-hover:hover {
  transform: translateY(-6px) scale(1.02);
  box-shadow: 0 40px 80px -20px rgba(0, 0, 0, 0.4);
}

/* --- BouncyLetters Component Styles --- */
.bounce-letter {
  display: inline-block;
  transform-origin: center bottom;
  will-change: transform, opacity;
  line-height: 1.2;
  vertical-align: baseline;
  overflow: visible;
  position: relative;
  z-index: 1;
}

/* Ensure containers with animated text don't clip */
.text-animation-container {
  overflow: visible !important;
  position: relative;
}

.text-animation-container * {
  overflow: visible;
}

/* LetterReveal component styles */
.letter-reveal {
  display: inline-block;
  transform-origin: center center;
  will-change: transform, opacity, filter;
  line-height: 1.2;
  vertical-align: baseline;
  overflow: visible;
  position: relative;
  z-index: 1;
  filter: blur(15px);
  transition: filter 0.3s ease;
}

/* Ensure words don't break in LetterReveal */
.letter-reveal-container {
  white-space: normal;
  word-wrap: normal;
  word-break: keep-all;
  line-height: 1.4;
  text-align: center;
  display: block;
}

/* General gradient text styles */
.gradient-text {
  background: linear-gradient(45deg, #8b5cf6, #3b82f6, #06b6d4);
  background-size: 200% 200%;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  animation: gradientShift 3s ease infinite;
  overflow: visible;
}

/* --- Custom Slider Styles --- */
/* Enhanced slider styles with proper contrast for both light and dark modes */

/* Enhanced border styles for better contrast */
.border-3 {
  border-width: 3px;
}

.feature-card {
  position: relative;
  overflow: hidden;
}

.feature-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  border-radius: 1rem;
  padding: 3px;
  background: linear-gradient(135deg, #8b5cf6, #3b82f6);
  mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  mask-composite: exclude;
  opacity: 0;
  transition: opacity 0.3s ease;
}

.feature-card:hover::before {
  opacity: 1;
}

/* Enhanced slider styles with proper contrast for both light and dark modes */
.slider-thumb::-webkit-slider-thumb {
  appearance: none;
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background: linear-gradient(135deg, #a855f7, #8b5cf6);
  cursor: pointer;
  border: 2px solid rgba(255, 255, 255, 0.8);
  box-shadow: 0 2px 8px rgba(139, 92, 246, 0.4);
  transition: all 0.2s ease;
}

.slider-thumb::-webkit-slider-thumb:hover {
  transform: scale(1.1);
  box-shadow: 0 4px 12px rgba(139, 92, 246, 0.6);
}

.slider-thumb::-webkit-slider-thumb:active {
  transform: scale(0.95);
}

.slider-thumb::-moz-range-thumb {
  appearance: none;
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background: linear-gradient(135deg, #a855f7, #8b5cf6);
  cursor: pointer;
  border: 2px solid rgba(255, 255, 255, 0.8);
  box-shadow: 0 2px 8px rgba(139, 92, 246, 0.4);
  transition: all 0.2s ease;
}

.slider-thumb::-moz-range-thumb:hover {
  transform: scale(1.1);
  box-shadow: 0 4px 12px rgba(139, 92, 246, 0.6);
}

.slider-thumb::-moz-range-thumb:active {
  transform: scale(0.95);
}

/* Dark mode slider styles */
.dark .slider-thumb::-webkit-slider-thumb {
  border: 2px solid rgba(255, 255, 255, 0.9);
  box-shadow: 0 2px 8px rgba(139, 92, 246, 0.6);
}

.dark .slider-thumb::-moz-range-thumb {
  border: 2px solid rgba(255, 255, 255, 0.9);
  box-shadow: 0 2px 8px rgba(139, 92, 246, 0.6);
}

/* Light mode slider styles */
.theme-light .slider-thumb::-webkit-slider-thumb,
.theme-bright .slider-thumb::-webkit-slider-thumb {
  border: 2px solid rgba(0, 0, 0, 0.8);
  box-shadow: 0 2px 8px rgba(139, 92, 246, 0.4);
}

.theme-light .slider-thumb::-moz-range-thumb,
.theme-bright .slider-thumb::-moz-range-thumb {
  border: 2px solid rgba(0, 0, 0, 0.8);
  box-shadow: 0 2px 8px rgba(139, 92, 246, 0.4);
}

/* Dark mode specific styles for dropdowns */
.dark .bg-white {
  background-color: #111827 !important; /* gray-900 */
}

.dark .text-gray-900 {
  color: #f9fafb !important; /* gray-50 */
}

.dark .text-gray-600 {
  color: #d1d5db !important; /* gray-300 */
}

.dark .text-gray-500 {
  color: #9ca3af !important; /* gray-400 */
}

.dark .border-gray-200 {
  border-color: #374151 !important; /* gray-700 */
}

.dark .bg-gray-50 {
  background-color: #1f2937 !important; /* gray-800 */
}

.dark .hover\:bg-gray-50:hover {
  background-color: #1f2937 !important; /* gray-800 */
}

.dark .hover\:bg-gray-100:hover {
  background-color: #374151 !important; /* gray-700 */
}

.dark .bg-purple-50 {
  background-color: #2e1b47 !important; /* purple-900/20 */
}

.dark .hover\:bg-purple-50:hover {
  background-color: #2e1b47 !important; /* purple-900/20 */
}

/* Ensure dropdown backgrounds are properly applied */
.dark .bg-white.dark\:bg-gray-900 {
  background-color: #111827 !important;
}

.dark .bg-gray-50.dark\:bg-gray-800 {
  background-color: #1f2937 !important;
}

.dark .bg-white.dark\:bg-gray-700 {
  background-color: #374151 !important;
}

/* Enhanced icon animations and effects */
.icon-container {
  transition: all 0.3s ease;
}

.icon-container:hover {
  transform: scale(1.1);
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
}

/* Gradient icon backgrounds with better contrast */
.gradient-icon-bg {
  background: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
  transition: all 0.3s ease;
}

.gradient-icon-bg:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
}

/* Animated pulse for active features */
.animate-pulse-slow {
  animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

/* Enhanced hover effects for settings cards */
.settings-card {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.6, 1);
}

.settings-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
}

/* Theme-specific icon enhancements */
.theme-light .gradient-icon-bg,
.theme-bright .gradient-icon-bg {
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
}

.theme-dark .gradient-icon-bg {
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
}

/* Accessibility Features */
.font-size-small {
  font-size: 0.875rem !important;
}

.font-size-medium {
  font-size: 1rem !important;
}

.font-size-large {
  font-size: 1.125rem !important;
}

.font-size-extra-large {
  font-size: 1.25rem !important;
}

.text-spacing-increased {
  letter-spacing: 0.05em !important;
}

.text-spacing-extra {
  letter-spacing: 0.1em !important;
}

.high-contrast {
  --text-primary: #000000 !important;
  --text-secondary: #333333 !important;
  --bg-primary: #ffffff !important;
  --bg-secondary: #f0f0f0 !important;
  --border-primary: #000000 !important;
}

.high-contrast * {
  color: var(--text-primary) !important;
  background-color: var(--bg-primary) !important;
  border-color: var(--border-primary) !important;
}

/* Magnifier styles */
.magnifier-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 10000;
}

.magnifier-lens {
  position: absolute;
  width: 128px;
  height: 128px;
  border: 2px solid white;
  border-radius: 50%;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
  pointer-events: none;
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(2px);
}

/* Advanced Accessibility Features */

/* Voice Control Features */
.voice-control-enabled .voice-indicator {
  position: fixed;
  top: 20px;
  right: 20px;
  background: rgba(139, 92, 246, 0.9);
  color: white;
  padding: 8px 16px;
  border-radius: 20px;
  font-size: 12px;
  z-index: 9999;
  animation: pulse 2s infinite;
}

.voice-control-enabled .voice-commands {
  display: block !important;
}

.voice-commands {
  display: none;
  position: fixed;
  bottom: 20px;
  left: 20px;
  background: rgba(0, 0, 0, 0.8);
  color: white;
  padding: 16px;
  border-radius: 8px;
  font-size: 14px;
  max-width: 300px;
  z-index: 9999;
}

/* Text-to-Speech Visual Indicators */
.text-to-speech .speaking-element {
  background-color: rgba(139, 92, 246, 0.2) !important;
  outline: 2px solid #8b5cf6 !important;
  animation: speakingPulse 1s infinite alternate;
}

@keyframes speakingPulse {
  0% { background-color: rgba(139, 92, 246, 0.1); }
  100% { background-color: rgba(139, 92, 246, 0.3); }
}

/* Screen Magnifier */
.magnifier-enabled {
  cursor: none;
}

.magnifier-enabled .magnifier-tool {
  position: fixed;
  width: 200px;
  height: 200px;
  border: 3px solid #8b5cf6;
  border-radius: 50%;
  pointer-events: none;
  z-index: 10000;
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(1px);
  box-shadow: 0 0 20px rgba(0, 0, 0, 0.3);
  transform: scale(var(--magnifier-level, 2));
  transition: transform 0.1s ease;
}

.magnifier-tool::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 2px;
  height: 20px;
  background: #8b5cf6;
  transform: translate(-50%, -50%);
}

.magnifier-tool::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 20px;
  height: 2px;
  background: #8b5cf6;
  transform: translate(-50%, -50%);
}

/* Cursor Size Options */
.cursor-small * { cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M0 0l6 6h-2l-4 4z" fill="black"/></svg>'), auto !important; }
.cursor-normal * { cursor: default; }
.cursor-large * { cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><path d="M0 0l12 12h-4l-8 8z" fill="black"/></svg>'), auto !important; }
.cursor-extra-large * { cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48"><path d="M0 0l18 18h-6l-12 12z" fill="black"/></svg>'), auto !important; }

/* Reading Guide */
.reading-guide-enabled .reading-guide-line {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 3px;
  background: linear-gradient(90deg, transparent 0%, #8b5cf6 50%, transparent 100%);
  z-index: 9998;
  pointer-events: none;
  transition: top 0.1s ease;
}

.reading-guide-enabled .reading-guide-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    to bottom,
    rgba(0, 0, 0, 0.3) 0%,
    transparent 45%,
    transparent 55%,
    rgba(0, 0, 0, 0.3) 100%
  );
  pointer-events: none;
  z-index: 9997;
}

/* Dyslexia-Friendly Font */
.dyslexia-font,
.dyslexia-font * {
  font-family: 'Comic Sans MS', 'OpenDyslexic', 'Arial', sans-serif !important;
  font-weight: 500 !important;
  letter-spacing: 0.1em !important;
  line-height: 1.6 !important;
}

/* Auto Scroll */
.auto-scroll-enabled {
  scroll-behavior: smooth;
}

.auto-scroll-enabled .auto-scroll-indicator {
  position: fixed;
  top: 50%;
  right: 20px;
  background: rgba(139, 92, 246, 0.9);
  color: white;
  padding: 12px;
  border-radius: 50%;
  z-index: 9999;
  animation: scrollPulse var(--auto-scroll-speed, 50s) infinite linear;
}

@keyframes scrollPulse {
  0%, 100% { transform: translateY(-50%) scale(1); opacity: 0.7; }
  50% { transform: translateY(-50%) scale(1.1); opacity: 1; }
}

/* Sticky Keys Visual Feedback */
.sticky-keys-enabled .sticky-key-indicator {
  position: fixed;
  bottom: 20px;
  right: 20px;
  background: rgba(139, 92, 246, 0.9);
  color: white;
  padding: 16px;
  border-radius: 8px;
  z-index: 9999;
  display: flex;
  gap: 8px;
}

.sticky-key-active {
  background: rgba(255, 255, 255, 0.2);
  padding: 4px 8px;
  border-radius: 4px;
  font-weight: bold;
}

/* One Hand Mode */
.one-hand-mode .one-hand-toolbar {
  position: fixed;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  background: rgba(139, 92, 246, 0.95);
  color: white;
  padding: 12px;
  border-radius: 20px;
  display: flex;
  gap: 12px;
  z-index: 9999;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
}

.one-hand-mode .one-hand-button {
  background: rgba(255, 255, 255, 0.2);
  border: none;
  color: white;
  padding: 8px 16px;
  border-radius: 12px;
  cursor: pointer;
  transition: all 0.2s ease;
}

.one-hand-mode .one-hand-button:hover {
  background: rgba(255, 255, 255, 0.3);
  transform: scale(1.05);
}

/* Reading Mode */
.reading-mode {
  background: #fefefe !important;
  color: #333 !important;
}

.reading-mode * {
  background: transparent !important;
  color: #333 !important;
  font-family: Georgia, 'Times New Roman', serif !important;
  line-height: 1.8 !important;
}

.reading-mode .reading-mode-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: #fefefe;
  z-index: -1;
}

.reading-mode .reading-content {
  max-width: 800px;
  margin: 0 auto;
  padding: 40px 20px;
  font-size: 18px;
  line-height: 1.8;
}

/* Skip Links */
.skip-links-enabled .skip-link {
  position: absolute;
  top: -40px;
  left: 6px;
  background: #8b5cf6;
  color: white;
  padding: 8px 16px;
  text-decoration: none;
  border-radius: 4px;
  z-index: 10000;
  transition: top 0.3s ease;
}

.skip-links-enabled .skip-link:focus {
  top: 6px;
}

/* Quick Navigation */
.quick-nav-enabled .quick-nav-menu {
  position: fixed;
  top: 50%;
  left: 20px;
  transform: translateY(-50%);
  background: rgba(139, 92, 246, 0.95);
  color: white;
  padding: 20px;
  border-radius: 12px;
  z-index: 9999;
  display: none;
  flex-direction: column;
  gap: 12px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
}

.quick-nav-enabled .quick-nav-menu.active {
  display: flex;
}

.quick-nav-enabled .quick-nav-item {
  background: rgba(255, 255, 255, 0.2);
  border: none;
  color: white;
  padding: 12px 16px;
  border-radius: 8px;
  cursor: pointer;
  text-align: left;
  transition: all 0.2s ease;
}

.quick-nav-enabled .quick-nav-item:hover {
  background: rgba(255, 255, 255, 0.3);
  transform: translateX(4px);
}

/* Focus Enhancement for Accessibility */
.focus-indicators button:focus,
.focus-indicators a:focus,
.focus-indicators input:focus,
.focus-indicators select:focus,
.focus-indicators textarea:focus {
  outline: 3px solid #8b5cf6 !important;
  outline-offset: 2px !important;
  box-shadow: 0 0 0 1px #ffffff, 0 0 0 4px #8b5cf6 !important;
}

/* Hover Delays for Motor Impairments */
.dwell-time-enabled button,
.dwell-time-enabled a {
  transition: all var(--dwell-time, 1000ms) ease;
}

.dwell-time-enabled button:hover,
.dwell-time-enabled a:hover {
  transform: scale(1.05);
  background-color: rgba(139, 92, 246, 0.1);
}

/* High Contrast Enhancements */
.high-contrast button {
  border: 2px solid #ffffff !important;
  background: #000000 !important;
  color: #ffffff !important;
}

.high-contrast button:hover {
  background: #333333 !important;
  border-color: #ffffff !important;
}

.high-contrast input,
.high-contrast select,
.high-contrast textarea {
  border: 2px solid #ffffff !important;
  background: #000000 !important;
  color: #ffffff !important;
}

/* Progress Indicators for Cognitive Support */
.progress-indicators .progress-bar {
  position: fixed;
  top: 0;
  left: 0;
  height: 4px;
  background: linear-gradient(90deg, #8b5cf6, #a855f7);
  z-index: 9999;
  transition: width 0.3s ease;
}

.progress-indicators .time-remaining {
  position: fixed;
  top: 10px;
  right: 10px;
  background: rgba(139, 92, 246, 0.9);
  color: white;
  padding: 8px 12px;
  border-radius: 16px;
  font-size: 12px;
  z-index: 9999;
}

/* Content Summary Support */
.content-summary .summary-panel {
  position: fixed;
  top: 20px;
  left: 20px;
  width: 300px;
  background: rgba(255, 255, 255, 0.95);
  border: 1px solid #e2e8f0;
  border-radius: 12px;
  padding: 16px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
  z-index: 9999;
  max-height: 400px;
  overflow-y: auto;
}

.content-summary .summary-panel h3 {
  margin: 0 0 12px 0;
  color: #8b5cf6;
  font-size: 16px;
}

.content-summary .summary-item {
  padding: 8px 0;
  border-bottom: 1px solid #e2e8f0;
  font-size: 14px;
  color: #64748b;
}

/* Timeout Warnings */
.timeout-warnings .timeout-warning {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: rgba(255, 165, 0, 0.95);
  color: #333;
  padding: 24px;
  border-radius: 12px;
  z-index: 10000;
  text-align: center;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
  max-width: 400px;
}

.timeout-warning h3 {
  margin: 0 0 12px 0;
  color: #d97706;
}

.timeout-warning .countdown {
  font-size: 24px;
  font-weight: bold;
  color: #dc2626;
  margin: 12px 0;
}

.timeout-warning .extend-button {
  background: #8b5cf6;
  color: white;
  border: none;
  padding: 12px 24px;
  border-radius: 8px;
  cursor: pointer;
  font-size: 16px;
  margin-top: 12px;
}

/* Responsive adjustments for accessibility features */
@media (max-width: 768px) {
  .quick-nav-enabled .quick-nav-menu {
    left: 10px;
    right: 10px;
    width: auto;
  }
  
  .one-hand-mode .one-hand-toolbar {
    bottom: 10px;
    left: 10px;
    right: 10px;
    transform: none;
  }
  
  .content-summary .summary-panel {
    left: 10px;
    right: 10px;
    width: auto;
  }
}

/* Enhanced Toggle Switch Styles with High Contrast and Shadows */
.toggle-switch {
  position: relative;
  display: inline-block;
  width: 60px;
  height: 34px;
  background: #e5e7eb;
  border-radius: 34px;
  box-shadow: 
    inset 0 2px 4px rgba(0, 0, 0, 0.2),
    0 2px 4px rgba(0, 0, 0, 0.1),
    0 0 0 2px rgba(0, 0, 0, 0.05);
  transition: all 0.3s ease;
  cursor: pointer;
}

.toggle-switch::before {
  content: '';
  position: absolute;
  top: 3px;
  left: 3px;
  width: 28px;
  height: 28px;
  background: #ffffff;
  border-radius: 50%;
  box-shadow: 
    0 4px 8px rgba(0, 0, 0, 0.3),
    0 2px 4px rgba(0, 0, 0, 0.2),
    inset 0 1px 2px rgba(255, 255, 255, 0.8);
  transition: all 0.3s ease;
  border: 2px solid #d1d5db;
}

.toggle-switch:checked {
  background: #8b5cf6;
  box-shadow: 
    inset 0 2px 4px rgba(0, 0, 0, 0.3),
    0 4px 8px rgba(139, 92, 246, 0.4),
    0 0 0 2px rgba(139, 92, 246, 0.2);
}

.toggle-switch:checked::before {
  transform: translateX(26px);
  background: #ffffff;
  box-shadow: 
    0 4px 8px rgba(0, 0, 0, 0.4),
    0 2px 4px rgba(0, 0, 0, 0.3),
    inset 0 1px 2px rgba(255, 255, 255, 0.9);
  border: 2px solid #ffffff;
}

/* High Contrast Mode Toggle Enhancements */
.high-contrast .toggle-switch {
  background: #333333;
  box-shadow: 
    inset 0 2px 4px rgba(0, 0, 0, 0.5),
    0 4px 8px rgba(0, 0, 0, 0.3),
    0 0 0 3px #ffffff;
}

.high-contrast .toggle-switch::before {
  background: #ffffff;
  box-shadow: 
    0 6px 12px rgba(0, 0, 0, 0.5),
    0 3px 6px rgba(0, 0, 0, 0.4),
    inset 0 1px 2px rgba(255, 255, 255, 1);
  border: 3px solid #000000;
}

.high-contrast .toggle-switch:checked {
  background: #ffffff;
  box-shadow: 
    inset 0 2px 4px rgba(0, 0, 0, 0.6),
    0 6px 12px rgba(255, 255, 255, 0.5),
    0 0 0 3px #000000;
}

.high-contrast .toggle-switch:checked::before {
  background: #000000;
  box-shadow: 
    0 6px 12px rgba(0, 0, 0, 0.6),
    0 3px 6px rgba(0, 0, 0, 0.5),
    inset 0 1px 2px rgba(255, 255, 255, 0.3);
  border: 3px solid #ffffff;
}

/* Enhanced Checkbox Styles */
input[type="checkbox"] {
  appearance: none;
  width: 20px;
  height: 20px;
  background: #ffffff;
  border: 3px solid #d1d5db;
  border-radius: 4px;
  box-shadow: 
    0 2px 4px rgba(0, 0, 0, 0.2),
    0 1px 2px rgba(0, 0, 0, 0.1),
    inset 0 1px 2px rgba(255, 255, 255, 0.8);
  cursor: pointer;
  transition: all 0.3s ease;
  position: relative;
}

input[type="checkbox"]:checked {
  background: #8b5cf6;
  border-color: #8b5cf6;
  box-shadow: 
    0 4px 8px rgba(139, 92, 246, 0.4),
    0 2px 4px rgba(139, 92, 246, 0.2),
    inset 0 1px 2px rgba(255, 255, 255, 0.8);
}

input[type="checkbox"]:checked::after {
  content: 'âœ“';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  color: #ffffff;
  font-size: 14px;
  font-weight: bold;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
}

/* High Contrast Checkbox Enhancements */
.high-contrast input[type="checkbox"] {
  background: #ffffff;
  border: 3px solid #000000;
  box-shadow: 
    0 4px 8px rgba(0, 0, 0, 0.4),
    0 2px 4px rgba(0, 0, 0, 0.3),
    inset 0 1px 2px rgba(255, 255, 255, 1);
}

.high-contrast input[type="checkbox"]:checked {
  background: #000000;
  border-color: #000000;
  box-shadow: 
    0 6px 12px rgba(0, 0, 0, 0.6),
    0 3px 6px rgba(0, 0, 0, 0.5),
    inset 0 1px 2px rgba(255, 255, 255, 0.3);
}

.high-contrast input[type="checkbox"]:checked::after {
  color: #ffffff;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
}

/* Enhanced Focus States */
.toggle-switch:focus,
input[type="checkbox"]:focus {
  outline: none;
  box-shadow: 
    0 0 0 3px rgba(139, 92, 246, 0.5),
    0 0 0 6px rgba(139, 92, 246, 0.2);
}

.high-contrast .toggle-switch:focus,
.high-contrast input[type="checkbox"]:focus {
  box-shadow: 
    0 0 0 3px #ffffff,
    0 0 0 6px #000000;
}

/* Hover Effects */
.toggle-switch:hover {
  transform: scale(1.05);
  box-shadow: 
    inset 0 2px 4px rgba(0, 0, 0, 0.25),
    0 6px 12px rgba(0, 0, 0, 0.15),
    0 0 0 2px rgba(0, 0, 0, 0.1);
}

.toggle-switch:hover::before {
  box-shadow: 
    0 6px 12px rgba(0, 0, 0, 0.4),
    0 3px 6px rgba(0, 0, 0, 0.3),
    inset 0 1px 2px rgba(255, 255, 255, 0.9);
}

input[type="checkbox"]:hover {
  transform: scale(1.1);
  box-shadow: 
    0 4px 8px rgba(0, 0, 0, 0.3),
    0 2px 4px rgba(0, 0, 0, 0.2),
    inset 0 1px 2px rgba(255, 255, 255, 0.9);
}

/* Settings Card Enhancements */
.settings-card {
  background: #ffffff;
  border: 2px solid #e5e7eb;
  border-radius: 12px;
  box-shadow: 
    0 8px 16px rgba(0, 0, 0, 0.1),
    0 4px 8px rgba(0, 0, 0, 0.05),
    inset 0 1px 2px rgba(255, 255, 255, 0.8);
  transition: all 0.3s ease;
}

.settings-card:hover {
  transform: translateY(-2px);
  box-shadow: 
    0 12px 24px rgba(0, 0, 0, 0.15),
    0 6px 12px rgba(0, 0, 0, 0.1),
    inset 0 1px 2px rgba(255, 255, 255, 0.9);
  border-color: #d1d5db;
}

/* High Contrast Settings Cards */
.high-contrast .settings-card {
  background: #ffffff;
  border: 3px solid #000000;
  box-shadow: 
    0 8px 16px rgba(0, 0, 0, 0.4),
    0 4px 8px rgba(0, 0, 0, 0.3),
    inset 0 1px 2px rgba(255, 255, 255, 1);
}

.high-contrast .settings-card:hover {
  box-shadow: 
    0 12px 24px rgba(0, 0, 0, 0.5),
    0 6px 12px rgba(0, 0, 0, 0.4),
    inset 0 1px 2px rgba(255, 255, 255, 1);
  border-color: #000000;
}

/* Enhanced Text Contrast */
.settings-label {
  color: #374151;
  font-weight: 600;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
}

.settings-description {
  color: #6b7280;
  text-shadow: 0 1px 1px rgba(0, 0, 0, 0.05);
}

.high-contrast .settings-label {
  color: #000000;
  text-shadow: 0 1px 2px rgba(255, 255, 255, 0.5);
}

.high-contrast .settings-description {
  color: #333333;
  text-shadow: 0 1px 1px rgba(255, 255, 255, 0.3);
}





